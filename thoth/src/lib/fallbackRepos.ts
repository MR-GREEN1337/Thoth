export const FALLBACK_REPOS = {
  javascript: [
    {
      url: "https://github.com/PacktPublishing/JavaScript-from-Frontend-to-Backend",
      name: "JavaScript-from-Frontend-to-Backend",
      description: "Complete JavaScript guide covering both client and server-side development",
      language: "javascript",
      stars: 1200,
      topics: ["frontend", "backend", "fullstack"],
      frameworks: ["React", "Node.js", "Express"],
      lastUpdate: "2024-03-15"
    },
    {
      url: "https://github.com/PacktPublishing/Next.js-Web-Development",
      name: "Next.js-Web-Development",
      description: "Building modern web applications with Next.js and React",
      language: "javascript",
      stars: 1800,
      topics: ["nextjs", "react", "web-development"],
      frameworks: ["Next.js", "React"],
      lastUpdate: "2024-02-20"
    },
    {
      url: "https://github.com/PacktPublishing/Real-World-Next.js",
      name: "Real-World-Next.js",
      description: "Production-ready Next.js applications with advanced features",
      language: "javascript",
      stars: 1500,
      topics: ["nextjs", "production", "advanced"],
      frameworks: ["Next.js"],
      lastUpdate: "2024-01-10"
    },
    {
      url: "https://github.com/PacktPublishing/Vue.js-3-Cookbook",
      name: "Vue.js-3-Cookbook",
      description: "Practical recipes for building Vue.js 3 applications",
      language: "javascript",
      stars: 950,
      topics: ["vuejs", "frontend", "spa"],
      frameworks: ["Vue.js"],
      lastUpdate: "2024-03-01"
    }
  ],
  typescript: [
    {
      url: "https://github.com/PacktPublishing/Essential-TypeScript-4",
      name: "Essential-TypeScript-4",
      description: "TypeScript 4 examples and practical projects",
      language: "typescript",
      stars: 780,
      topics: ["typescript", "basics", "fundamentals"],
      frameworks: ["Node.js"],
      lastUpdate: "2024-02-15"
    },
    {
      url: "https://github.com/PacktPublishing/TypeScript-4-Design-Patterns-and-Best-Practices",
      name: "TypeScript-4-Design-Patterns",
      description: "Design patterns and architectural approaches in TypeScript",
      language: "typescript",
      stars: 920,
      topics: ["design-patterns", "architecture", "best-practices"],
      frameworks: ["Express", "Node.js"],
      lastUpdate: "2024-01-25"
    },
    {
      url: "https://github.com/PacktPublishing/Advanced-TypeScript-Programming-Projects",
      name: "Advanced-TypeScript-Projects",
      description: "Real-world TypeScript projects and advanced concepts",
      language: "typescript",
      stars: 670,
      topics: ["advanced", "projects", "real-world"],
      frameworks: ["NestJS", "TypeORM"],
      lastUpdate: "2024-03-10"
    },
    {
      url: "https://github.com/PacktPublishing/Full-Stack-TypeScript-Development",
      name: "Full-Stack-TypeScript-Development",
      description: "End-to-end TypeScript development with modern frameworks",
      language: "typescript",
      stars: 850,
      topics: ["fullstack", "modern", "web-development"],
      frameworks: ["Next.js", "tRPC", "Prisma"],
      lastUpdate: "2024-03-20"
    }
  ],
  python: [
    {
      url: "https://github.com/PacktPublishing/Python-for-Algorithmic-Trading",
      name: "Python-for-Algorithmic-Trading",
      description: "Python applications in financial markets and trading",
      language: "python",
      stars: 1500,
      topics: ["finance", "algorithms", "trading"],
      frameworks: ["pandas", "numpy"],
      lastUpdate: "2024-02-28"
    },
    {
      url: "https://github.com/PacktPublishing/Modern-Python-Cookbook-Second-Edition",
      name: "Modern-Python-Cookbook",
      description: "Practical Python recipes and patterns for modern development",
      language: "python",
      stars: 980,
      topics: ["cookbook", "patterns", "modern"],
      frameworks: ["Django", "Flask"],
      lastUpdate: "2024-01-15"
    },
    {
      url: "https://github.com/PacktPublishing/FastAPI-Cookbook",
      name: "FastAPI-Cookbook",
      description: "Practical recipes for building APIs with FastAPI",
      language: "python",
      stars: 850,
      topics: ["api", "fastapi", "backend"],
      frameworks: ["FastAPI"],
      lastUpdate: "2024-03-05"
    },
    {
      url: "https://github.com/PacktPublishing/Machine-Learning-with-PyTorch",
      name: "Machine-Learning-with-PyTorch",
      description: "Practical machine learning projects using PyTorch",
      language: "python",
      stars: 1200,
      topics: ["machine-learning", "pytorch", "ai"],
      frameworks: ["PyTorch", "scikit-learn"],
      lastUpdate: "2024-03-18"
    }
  ],
  java: [
    {
      url: "https://github.com/PacktPublishing/Modern-Java-Programming-Cookbook",
      name: "Modern-Java-Programming-Cookbook",
      description: "Modern Java features and best practices with practical examples",
      language: "java",
      stars: 760,
      topics: ["modern-java", "cookbook", "best-practices"],
      frameworks: ["Spring Boot"],
      lastUpdate: "2024-02-10"
    },
    {
      url: "https://github.com/PacktPublishing/Java-Coding-Problems",
      name: "Java-Coding-Problems",
      description: "Practical Java programming challenges and solutions",
      language: "java",
      stars: 1100,
      topics: ["coding-problems", "algorithms", "interview-prep"],
      frameworks: ["JUnit"],
      lastUpdate: "2024-01-20"
    },
    {
      url: "https://github.com/PacktPublishing/Spring-Boot-2-Fundamentals",
      name: "Spring-Boot-2-Fundamentals",
      description: "Spring Boot fundamentals and application development",
      language: "java",
      stars: 890,
      topics: ["spring-boot", "web-development", "microservices"],
      frameworks: ["Spring Boot", "Spring Cloud"],
      lastUpdate: "2024-02-25"
    },
    {
      url: "https://github.com/PacktPublishing/Java-17-Advanced-Features",
      name: "Java-17-Advanced-Features",
      description: "Exploring advanced features of Java 17",
      language: "java",
      stars: 720,
      topics: ["java17", "advanced", "modern"],
      frameworks: ["Spring Boot 3"],
      lastUpdate: "2024-03-15"
    }
  ],
  rust: [
    {
      url: "https://github.com/PacktPublishing/Rust-Programming-Cookbook",
      name: "Rust-Programming-Cookbook",
      description: "Practical Rust programming recipes and patterns",
      language: "rust",
      stars: 670,
      topics: ["cookbook", "patterns", "systems-programming"],
      frameworks: ["Tokio"],
      lastUpdate: "2024-02-05"
    },
    {
      url: "https://github.com/PacktPublishing/Creative-Projects-for-Rust-Programmers",
      name: "Creative-Projects-for-Rust",
      description: "Hands-on Rust projects for learning systems programming",
      language: "rust",
      stars: 580,
      topics: ["projects", "hands-on", "learning"],
      frameworks: ["Actix"],
      lastUpdate: "2024-01-30"
    },
    {
      url: "https://github.com/PacktPublishing/Rust-Web-Programming",
      name: "Rust-Web-Programming",
      description: "Web development with Rust frameworks and tools",
      language: "rust",
      stars: 490,
      topics: ["web-development", "backend", "async"],
      frameworks: ["Rocket", "Actix-web"],
      lastUpdate: "2024-03-01"
    },
    {
      url: "https://github.com/PacktPublishing/Rust-for-Systems-Programming",
      name: "Rust-for-Systems-Programming",
      description: "Systems programming and low-level development with Rust",
      language: "rust",
      stars: 850,
      topics: ["systems", "low-level", "performance"],
      frameworks: ["std"],
      lastUpdate: "2024-03-12"
    }
  ],
  golang: [
    {
      url: "https://github.com/PacktPublishing/Go-Systems-Programming",
      name: "Go-Systems-Programming",
      description: "Systems programming with Go and practical examples",
      language: "golang",
      stars: 890,
      topics: ["systems", "low-level", "performance"],
      frameworks: ["standard library"],
      lastUpdate: "2024-02-20"
    },
    {
      url: "https://github.com/PacktPublishing/Go-Web-Development-Cookbook",
      name: "Go-Web-Development-Cookbook",
      description: "Web development recipes and patterns using Go",
      language: "golang",
      stars: 760,
      topics: ["web-development", "backend", "api"],
      frameworks: ["Gin", "Echo"],
      lastUpdate: "2024-03-05"
    },
    {
      url: "https://github.com/PacktPublishing/Cloud-Native-Go",
      name: "Cloud-Native-Go",
      description: "Building cloud-native applications with Go",
      language: "golang",
      stars: 920,
      topics: ["cloud-native", "kubernetes", "microservices"],
      frameworks: ["Gin", "gRPC"],
      lastUpdate: "2024-03-15"
    }
  ],
  cpp: [
    {
      url: "https://github.com/PacktPublishing/Modern-CPP-Programming",
      name: "Modern-CPP-Programming",
      description: "Modern C++ features and best practices",
      language: "cpp",
      stars: 680,
      topics: ["modern-cpp", "cpp17", "cpp20"],
      frameworks: ["STL"],
      lastUpdate: "2024-02-15"
    },
    {
      url: "https://github.com/PacktPublishing/CPP-Game-Development",
      name: "CPP-Game-Development",
      description: "Game development with C++ and modern engines",
      language: "cpp",
      stars: 790,
      topics: ["game-development", "graphics", "physics"],
      frameworks: ["SDL2", "SFML"],
      lastUpdate: "2024-03-10"
    },
    {
      url: "https://github.com/PacktPublishing/CPP-Systems-Programming",
      name: "CPP-Systems-Programming",
      description: "Low-level systems programming with C++",
      language: "cpp",
      stars: 550,
      topics: ["systems", "low-level", "performance"],
      frameworks: ["Boost"],
      lastUpdate: "2024-01-25"
    }
  ]
} as const;

export interface GitHubRepo {
  url: string;
  name: string;
  description: string;
  language: string;
  stars: number;
  topics: string[];
  frameworks: string[];
  lastUpdate: string;
}

export type SupportedLanguage = keyof typeof FALLBACK_REPOS;

export function getReposByLanguage(language: SupportedLanguage) {
  return FALLBACK_REPOS[language] || [];
}

// Helper function to get repos by topic
export function getReposByTopic(topic: string) {
  return Object.values(FALLBACK_REPOS)
    .flat()
    .filter(repo => repo.topics.includes(topic));
}

// Helper function to get recent repos
export function getRecentRepos(daysAgo: number = 30) {
  const cutoffDate = new Date();
  cutoffDate.setDate(cutoffDate.getDate() - daysAgo);
  
  return Object.values(FALLBACK_REPOS)
    .flat()
    .filter(repo => new Date(repo.lastUpdate) >= cutoffDate)
    .sort((a, b) => new Date(b.lastUpdate).getTime() - new Date(a.lastUpdate).getTime());
}

// Helper function to get top repos by stars
export function getTopRepos(limit: number = 10) {
  return Object.values(FALLBACK_REPOS)
    .flat()
    .sort((a, b) => b.stars - a.stars)
    .slice(0, limit);
}